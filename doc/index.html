<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta name="Content-Type" content="text/html; charset=utf8" />
<title>Documentation by YARD 0.6.3</title>
<link rel="stylesheet" href="css/style.css" type="text/css" media="screen" charset="utf-8" />
<link rel="stylesheet" href="css/common.css" type="text/css" media="screen" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  relpath = '';
  if (relpath != '') relpath += '/';
</script>
<script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>
<script type="text/javascript" charset="utf-8" src="js/app.js"></script>

  </head>
  <body>
    <script type="text/javascript" charset="utf-8">
      if (window.top.frames.main) document.body.className = 'frames';
    </script>
    
    <div id="header">
      <div id="menu">
  
    <a href="_index.html" title="Index">Index</a> &raquo; 
    <span class="title">File: README</span>
  
  
  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  <a id="class_list_link" href="#">Class List</a>
  <a id="method_list_link" href="#">Method List</a>
  <a id ="file_list_link" href="#">File List</a>
</div>

      <div class="clear"></div>
    </div>
    
    <iframe id="search_frame"></iframe>
    
    <div id="content"><div id='filecontents'><h1>eco_apps_support</h1>
<p>
eco_apps_support contains a set of utils/extensions/helpers/ based on
rails3, making rails development easier and life happier. eco_apps_support
is independent on other eco_apps gems and js related helpers are built on
jquery.
</p>
<h1>Key URLs</h1>
<p>
Git/Issues: http://github.com/eleutian/eco_apps_support
</p>
<p>
Blog: http://developer.idapted.com
</p>
<h1>Documentation</h1>
<h2>Extensions</h2>
<h3>ActiveRecord</h3>
<h4>dom_id</h4>
<p>
dom_id(prefix = &quot;&quot;)
</p>
<pre class="code">
  <span class='article identifier id'>article</span> <span class='assign token'>=</span> <span class='Article constant id'>Article</span><span class='dot token'>.</span><span class='find identifier id'>find</span><span class='lparen token'>(</span><span class='integer val'>1</span><span class='rparen token'>)</span>
  <span class='article identifier id'>article</span><span class='dot token'>.</span><span class='dom_id identifier id'>dom_id</span> <span class='comment val'># =&gt; &quot;article_1&quot;</span>
  <span class='article identifier id'>article</span><span class='dot token'>.</span><span class='dom_id identifier id'>dom_id</span><span class='lparen token'>(</span><span class='string val'>&quot;list&quot;</span><span class='rparen token'>)</span> <span class='comment val'># =&gt; &quot;list_article_1&quot;</span>
</pre>
<h4>day_condition_for</h4>
<p>
day_condition_for(day, column = &quot;created_at&quot;) Construct sql for
day conditions.
</p>
<pre class="code">
  <span class='Article constant id'>Article</span><span class='dot token'>.</span><span class='day_condition_for identifier id'>day_condition_for</span><span class='lparen token'>(</span><span class='string val'>&quot;2010-12-01&quot;</span><span class='comma token'>,</span> <span class='string val'>&quot;published_at&quot;</span><span class='rparen token'>)</span>
</pre>
<h4>days_between</h4>
<p>
days_between(from, to, ignore_weekend = false)
</p>
<pre class="code">
  <span class='Article constant id'>Article</span><span class='dot token'>.</span><span class='days_between identifier id'>days_between</span><span class='lparen token'>(</span><span class='Time constant id'>Time</span><span class='dot token'>.</span><span class='now identifier id'>now</span><span class='comma token'>,</span> <span class='Time constant id'>Time</span><span class='dot token'>.</span><span class='now identifier id'>now</span> <span class='plus op'>+</span> <span class='float val'>5</span><span class='dot token'>.</span><span class='days identifier id'>days</span><span class='rparen token'>)</span> <span class='comment val'># =&gt; 5</span>
  <span class='Article constant id'>Article</span><span class='dot token'>.</span><span class='find identifier id'>find</span><span class='lparen token'>(</span><span class='integer val'>1</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='days_between identifier id'>days_between</span><span class='lparen token'>(</span><span class='string val'>&quot;2010-12-01&quot;</span><span class='comma token'>,</span> <span class='string val'>&quot;2010-12-06&quot;</span><span class='comma token'>,</span> <span class='true true kw'>true</span><span class='rparen token'>)</span> <span class='comment val'># =&gt; 3</span>
</pre>
<h4>convert_tz</h4>
<p>
convert_tz(column_name, format=&quot;%Y-%m-%d&quot;) Format sql date.
</p>
<pre class="code">
  <span class='Article constant id'>Article</span><span class='dot token'>.</span><span class='all identifier id'>all</span><span class='lparen token'>(</span><span class='symbol val'>:conditions</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='dstring node'>&quot;#{convert_tz(:created_at, &quot;%H&quot;)} &gt; 18&quot;</span><span class='rparen token'>)</span> <span class='comment val'># Find records created after 6pm.</span>
</pre>
<h4>find_column_by_name</h4>
<p>
find_column_by_name(column_name)
</p>
<pre class="code">
  <span class='Article constant id'>Article</span><span class='dot token'>.</span><span class='find_column_by_name identifier id'>find_column_by_name</span><span class='lparen token'>(</span><span class='symbol val'>:created_at</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='type identifier id'>type</span> <span class='comment val'># =&gt; :datetime</span>
</pre>
<h3>Fixnum</h3>
<h4>to_formatted_time</h4>
<p>
to_formatted_time(with_second = true)
</p>
<pre class="code">
  <span class='float val'>30</span><span class='dot token'>.</span><span class='to_formatted_time identifier id'>to_formatted_time</span> <span class='comment val'># =&gt; &quot;0:30&quot;</span>
  <span class='float val'>1000</span><span class='dot token'>.</span><span class='to_formatted_time identifier id'>to_formatted_time</span> <span class='comment val'># =&gt; &quot;16:40&quot;</span>
  <span class='float val'>10000</span><span class='dot token'>.</span><span class='to_formatted_time identifier id'>to_formatted_time</span> <span class='comment val'># =&gt; &quot;2:46:40&quot;</span>
  <span class='float val'>10000</span><span class='dot token'>.</span><span class='to_formatted_time identifier id'>to_formatted_time</span><span class='lparen token'>(</span><span class='false false kw'>false</span><span class='rparen token'>)</span> <span class='comment val'># =&gt; &quot;2:46&quot;</span>
</pre>
<p>
to_time_zone
</p>
<pre class="code">
  <span class='float val'>8</span><span class='dot token'>.</span><span class='to_time_zone identifier id'>to_time_zone</span><span class='dot token'>.</span><span class='name identifier id'>name</span> <span class='comment val'># =&gt; &quot;Beijing&quot;</span>
</pre>
<h3>String</h3>
<h4>to_html</h4>
<pre class="code">
  <span class='string val'>&quot;Hello\nWorld&quot;</span><span class='dot token'>.</span><span class='to_html identifier id'>to_html</span> <span class='comment val'># =&gt; &quot;&lt;p&gt;Hello\n&lt;br /&gt;World&lt;/p&gt;&quot;</span>
</pre>
<p>
This method can be extended by block or defining subclass of
StringFormatter
</p>
<pre class="code">
  <span class='string val'>&quot;Hello\nWorld&quot;</span><span class='dot token'>.</span><span class='to_html identifier id'>to_html</span><span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='t identifier id'>t</span><span class='bitor op'>|</span> <span class='t identifier id'>t</span><span class='dot token'>.</span><span class='gsub identifier id'>gsub</span><span class='lparen token'>(</span><span class='regexp val'>/o/</span><span class='comma token'>,</span><span class='string val'>&quot;i&quot;</span><span class='rparen token'>)</span><span class='rbrace token'>}</span> <span class='comment val'># =&gt; &quot;&lt;p&gt;Helli\n&lt;br /&gt;Wirld&lt;/p&gt;&quot;</span>

  <span class='class class kw'>class</span> <span class='MyFormatter constant id'>MyFormatter</span> <span class='lt op'>&lt;</span> <span class='StringFormatter constant id'>StringFormatter</span>
    <span class='def def kw'>def</span> <span class='class class kw'>class</span><span class='dot token'>.</span><span class='format identifier id'>format</span><span class='lparen token'>(</span><span class='str identifier id'>str</span><span class='rparen token'>)</span>
      <span class='str identifier id'>str</span><span class='dot token'>.</span><span class='gsub identifier id'>gsub</span><span class='lparen token'>(</span><span class='regexp val'>/Hello/</span><span class='comma token'>,</span><span class='string val'>&quot;Hi&quot;</span><span class='rparen token'>)</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
  <span class='string val'>&quot;Hello\nWorld&quot;</span><span class='dot token'>.</span><span class='to_html identifier id'>to_html</span> <span class='comment val'># =&gt; &quot;&lt;p&gt;Hi\n&lt;br /&gt;World&lt;/p&gt;&quot;</span>
</pre>
<h2>View Helpers</h2>
<h3>Date Field</h3>
<h4>date_field_tag</h4>
<p>
date_field_tag(name, value =nil, options= {})
</p>
<pre class="code">
  <span class='date_field_tag identifier id'>date_field_tag</span> <span class='symbol val'>:published_at</span>
</pre>
<h4>date_field</h4>
<p>
date_field(object_name, method, options = {})
</p>
<pre class="code">
  <span class='date_field identifier id'>date_field</span> <span class='symbol val'>:article</span><span class='comma token'>,</span> <span class='symbol val'>:published_at</span>

  <span class='form_for identifier id'>form_for</span> <span class='@article ivar id'>@article</span><span class='comma token'>,</span> <span class='symbol val'>:article</span><span class='comma token'>,</span> <span class='articles_path identifier id'>articles_path</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='f identifier id'>f</span><span class='bitor op'>|</span>
    <span class='f identifier id'>f</span><span class='dot token'>.</span><span class='date_field identifier id'>date_field</span> <span class='symbol val'>:published_at</span>
  <span class='end end kw'>end</span>
</pre>
<h3>JavaScript Effects</h3>
<h4>jquery_include_tag</h4>
<p>
jquery_include_tag(*files)
</p>
<p>
Include jquery js/css files.
</p>
<pre class="code">
  <span class='jquery_include_tag identifier id'>jquery_include_tag</span> <span class='comment val'># include jquery.min.js</span>
  <span class='jquery_include_tag identifier id'>jquery_include_tag</span><span class='lparen token'>(</span><span class='symbol val'>:ui</span><span class='comma token'>,</span> <span class='symbol val'>:css</span><span class='rparen token'>)</span> <span class='comment val'># include jquery-ui.min.js and jquery-ui.css</span>
</pre>
<h4>toggle_element</h4>
<p>
toggle_element(dom_id)
</p>
<pre class="code">
  <span class='link_to_function identifier id'>link_to_function</span> <span class='symbol val'>:detail</span><span class='comma token'>,</span> <span class='toggle_element identifier id'>toggle_element</span><span class='lparen token'>(</span><span class='string val'>&quot;detail&quot;</span><span class='rparen token'>)</span>
</pre>
</div></div>
    
    <div id="footer">
  Generated on Wed Dec  8 10:26:43 2010 by 
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.6.3 (ruby-1.8.7).
</div>

  </body>
</html>